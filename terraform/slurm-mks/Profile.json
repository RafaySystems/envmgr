{
    "apiVersion": "paas.envmgmt.io/v1",
    "kind": "ComputeProfile",
    "metadata": {
        "name": "mks-oneclick-slurm",
        "description": "This template will deploy a SLURM cluster.  The user will be provided remote access to the SLURM cluster using SSH to run SLURM  commands.",
        "labels": {
            "paas.envmgmt.io/compute_type": "cluster",
            "paas.envmgmt.io/inventory": "mks",
            "paas.envmgmt.io/inventory.config": "[\n  {\n      \"type\": \"match\",\n      \"keyInVariable\": \"GPU Type\",\n      \"keyInDevice\": \"tags.gpu_type\"\n  },\n  {\n      \"type\": \"capacity\",\n      \"keyInVariable\": \"No Of Nodes\",\n      \"keyInCapacity\": \"requiredNoofNodes\"\n  }\n          \n]"
        },
        "project": "system-catalog"
    },
    "spec": {
        "type": "Compute",
        "allocationType": "Dedicated",
        "scalabilityType": "Fixed",
        "environmentTemplate": {
            "name": "mks-oneclick-slurm",
            "version": "v1.0"
        },
        "variables": [
            {
                "name": "Action",
                "valueType": "expression",
                "value": "#{trigger.payload.action}#",
                "options": {
                    "description": "Action - Internal",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Other",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "70600"
                    }
                }
            },
            {
                "name": "Allocate Public IP to Master Nodes",
                "valueType": "text",
                "value": "false",
                "options": {
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Node",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "30125"
                    }
                }
            },
            {
                "name": "Allocate Public IP to Worker Nodes",
                "valueType": "text",
                "value": "false",
                "options": {
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Node",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "30145"
                    }
                }
            },
            {
                "name": "Blueprint Name",
                "valueType": "text",
                "value": "slurm-prereqs",
                "options": {
                    "description": "Enter the name of the blueprint assigned to the cluster.",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Cluster",
                        "weight": "10095"
                    }
                }
            },
            {
                "name": "Blueprint Version",
                "valueType": "text",
                "value": "vast-3",
                "options": {
                    "description": "Specify the version of the blueprint for the cluster. For system blueprints, use \"latest\" as the version.",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Cluster",
                        "weight": "10096"
                    }
                }
            },
            {
                "name": "Cluster Kubernetes Version",
                "valueType": "text",
                "value": "v1.31.4",
                "options": {
                    "description": "Select the Kubernetes version for the cluster",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Cluster",
                        "weight": "10030"
                    }
                }
            },
            {
                "name": "Cluster Name",
                "valueType": "expression",
                "value": "$(environment.labels.computeName)$",
                "options": {
                    "description": "Enter the name of the Kubernetes cluster",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Cluster",
                        "weight": "10010"
                    }
                }
            },
            {
                "name": "CNI Provider",
                "valueType": "text",
                "value": "Calico-3.26.1",
                "options": {
                    "description": "Enter the network information",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "CNI",
                        "tooltip": "Enter the network information. Supported plugins include Calico(3.28.1,3.26.1)  and Cilium(1.15.7,1.14.1)",
                        "weight": "20100"
                    }
                }
            },
            {
                "name": "Compute Node Image Repository",
                "valueType": "text",
                "value": "ghcr.io/slinkyproject/slurmd",
                "options": {
                    "override": {
                        "type": "notallowed"
                    }
                }
            },
            {
                "name": "Compute Node Image Tag",
                "valueType": "text",
                "value": "25.05-ubuntu24.04",
                "options": {
                    "override": {
                        "type": "notallowed"
                    }
                }
            },
            {
                "name": "Compute Node Selector",
                "valueType": "text",
                "options": {
                    "override": {
                        "type": "notallowed"
                    }
                }
            },
            {
                "name": "Device Detail Flag",
                "valueType": "text",
                "value": "true",
                "options": {
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Other",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "71000"
                    }
                }
            },
            {
                "name": "device_details",
                "valueType": "json",
                "value": "[]",
                "options": {
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Other",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "71100"
                    }
                }
            },
            {
                "name": "Domain",
                "valueType": "text",
                "value": "paas.demo.gorafay.net",
                "options": {
                    "override": {
                        "type": "notallowed"
                    }
                }
            },
            {
                "name": "Epilog Scripts",
                "valueType": "json",
                "value": "00-epilog-a.sh: |\r\n  #!/usr/bin/env bash\r\n  echo \"A\"\r\n\r\n01-epilog-b.sh: |\r\n  #!/usr/bin/env bash\r\n  echo \"B\"",
                "options": {
                    "override": {
                        "type": "allowed"
                    },
                    "displayMetadata": {
                        "section": "Advanced",
                        "tooltip": "The epilog scripts that will be added to the compute nodes.",
                        "weight": "3"
                    }
                }
            },
            {
                "name": "Extra Args",
                "valueType": "json",
                "value": "{\n\"kubelet_extra_args\": {\n    \"cpu-manager-reconcile-period\": \"20s\",\n    \"max-pods\": \"200\"\n},\n  \"platform_k8s_upgrade\": false\n}",
                "options": {
                    "description": "Configure Kubelet arguments to fine tune node-level configuration in your cluster",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Node",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "30210"
                    }
                }
            },
            {
                "name": "Extra Cloud init args",
                "valueType": "text",
                "options": {
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Other",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "70900"
                    }
                }
            },
            {
                "name": "GPU Type",
                "valueType": "text",
                "value": "H200",
                "options": {
                    "override": {
                        "type": "allowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "dropdownValues": [
                            {
                                "label": "A40",
                                "text": "",
                                "value": "A40"
                            },
                            {
                                "label": "H100",
                                "text": "",
                                "value": "H100"
                            },
                            {
                                "label": "H200",
                                "text": "",
                                "value": "H200"
                            }
                        ],
                        "section": "Infrastructure",
                        "sectionDescription": "",
                        "tooltip": "",
                        "type": "dropdown",
                        "weight": "1"
                    }
                }
            },
            {
                "name": "HA Enabled",
                "valueType": "text",
                "value": "false",
                "options": {
                    "description": "HA Enabled?",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Cluster",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "10040"
                    }
                }
            },
            {
                "name": "Installer Certificate TTL",
                "valueType": "text",
                "value": "365",
                "options": {
                    "description": "Configure the validity period of the Conjurer Installer certificate",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Cluster",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "10070"
                    }
                }
            },
            {
                "name": "Is Master dedicated",
                "valueType": "text",
                "value": "false",
                "options": {
                    "description": "Is Master dedicated?",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Cluster",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "10050"
                    }
                }
            },
            {
                "name": "Kubernetes Upgrade",
                "valueType": "json",
                "value": "{\n  \"strategy\":\"sequential\",\n  \"params\":{\"worker_concurrency\":\"50%\"}\n}",
                "options": {
                    "description": "Enter the upgrade strategy for the cluster",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Cluster",
                        "weight": "10080"
                    }
                }
            },
            {
                "name": "Labels",
                "valueType": "json",
                "value": "{\n  \"env\": \"dev\",\n  \"team\": \"development\"\n}",
                "options": {
                    "description": "Cluster Labels",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Cluster",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "10060"
                    }
                }
            },
            {
                "name": "Master Node SKU",
                "valueType": "text",
                "options": {
                    "description": "Select Master Node SKU",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Node",
                        "weight": "30110"
                    }
                }
            },
            {
                "name": "Master Nodes",
                "valueType": "text",
                "value": "1",
                "options": {
                    "description": "No of Master Nodes",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Node",
                        "weight": "30120"
                    }
                }
            },
            {
                "name": "No Of Nodes",
                "valueType": "text",
                "value": "1",
                "options": {
                    "override": {
                        "type": "allowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "dropdownValues": [
                            {
                                "label": "1",
                                "text": "",
                                "value": "1"
                            },
                            {
                                "label": "2",
                                "text": "",
                                "value": "2"
                            },
                            {
                                "label": "3",
                                "text": "",
                                "value": "3"
                            },
                            {
                                "label": "4",
                                "text": "",
                                "value": "4"
                            },
                            {
                                "label": "5",
                                "text": "",
                                "value": "5"
                            },
                            {
                                "label": "6",
                                "text": "",
                                "value": "6"
                            },
                            {
                                "label": "7",
                                "text": "",
                                "value": "7"
                            },
                            {
                                "label": "8",
                                "text": "",
                                "value": "8"
                            }
                        ],
                        "section": "Infrastructure",
                        "sectionDescription": "",
                        "tooltip": "The number of SLURM compute nodes to deploy.",
                        "type": "dropdown",
                        "weight": "2"
                    }
                }
            },
            {
                "name": "Node OS",
                "valueType": "text",
                "value": "Ubuntu22.04",
                "options": {
                    "description": "Select the OS for the nodes",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Node",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "30100"
                    }
                }
            },
            {
                "name": "Pod Network Cidr range",
                "valueType": "text",
                "value": "10.244.0.0/16",
                "options": {
                    "description": "Pod Network Cidr range",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "CNI",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "20200"
                    }
                }
            },
            {
                "name": "Project Name",
                "valueType": "expression",
                "value": "$(environment.labels.requestProjectName)$",
                "options": {
                    "description": "Enter the project for the Cluster",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "alias": "",
                        "disabled": false,
                        "section": "Cluster",
                        "weight": "10020"
                    }
                }
            },
            {
                "name": "Prolog Scripts",
                "valueType": "json",
                "value": "00-prolog-a.sh: |\r\n  #!/usr/bin/env bash\r\n  echo \"A\"\r\n\r\n01-prolog-b.sh: |\r\n  #!/usr/bin/env bash\r\n  echo \"B\"",
                "options": {
                    "override": {
                        "type": "allowed"
                    },
                    "displayMetadata": {
                        "section": "Advanced",
                        "tooltip": "The prolog scripts that will be added to the compute nodes.",
                        "weight": "2"
                    }
                }
            },
            {
                "name": "Proxy Config",
                "valueType": "json",
                "value": "{}",
                "options": {
                    "description": "Configure Proxy if your infrastructure uses an Outbound Proxy",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Cluster",
                        "weight": "10090"
                    }
                }
            },
            {
                "name": "Public Key",
                "valueType": "text",
                "options": {
                    "description": "Public key to access the nodes",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Node",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "30200"
                    }
                }
            },
            {
                "name": "Self Hosted Controller",
                "valueType": "text",
                "value": "true",
                "options": {
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Other",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "70800"
                    }
                }
            },
            {
                "name": "Self Signed Controller",
                "valueType": "text",
                "value": "false",
                "options": {
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Other",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "70700"
                    }
                }
            },
            {
                "name": "Service Cidr range",
                "valueType": "text",
                "value": "10.96.0.0/12",
                "options": {
                    "description": "Service Cidr range",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "CNI",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "20210"
                    }
                }
            },
            {
                "name": "Shared Storageclass Name",
                "valueType": "text",
                "value": "vast-sc",
                "options": {
                    "override": {
                        "type": "notallowed"
                    }
                }
            },
            {
                "name": "Shared Volume Size",
                "valueType": "text",
                "value": "100Gi",
                "options": {
                    "override": {
                        "type": "allowed"
                    },
                    "displayMetadata": {
                        "dropdownValues": [
                            {
                                "label": "100Gi",
                                "text": "",
                                "value": "100Gi"
                            },
                            {
                                "label": "500Gi",
                                "text": "",
                                "value": "500Gi"
                            },
                            {
                                "label": "1000Gi",
                                "text": "",
                                "value": "1000Gi"
                            }
                        ],
                        "section": "Infrastructure",
                        "tooltip": "The amount of storage that will be configured as a shared volume between the compute nodes and login node",
                        "type": "dropdown",
                        "weight": "3"
                    }
                }
            },
            {
                "name": "Slurm SSH Public Key",
                "valueType": "text",
                "options": {
                    "override": {
                        "type": "allowed"
                    },
                    "displayMetadata": {
                        "section": "Access",
                        "tooltip": "The SSH public key that will be assigned to the login node.  This key will be used with the associated private key to SSH into the login node.  The login node will be used to run your SLURM commands.",
                        "weight": "1"
                    }
                }
            },
            {
                "name": "Storageclass Name",
                "valueType": "text",
                "value": "openebs-hostpath",
                "options": {
                    "override": {
                        "type": "notallowed"
                    }
                }
            },
            {
                "name": "System Components Placement",
                "valueType": "json",
                "value": "{\n\"node_selector\": {},\n  \"tolerations\": []\n}",
                "options": {
                    "description": "Enter node selectors and tolerations for the cluster",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Cluster",
                        "tooltip": "{ \"node_selector\": {},   \"tolerations\": [] }",
                        "weight": "10085"
                    }
                }
            },
            {
                "name": "Username",
                "valueType": "expression",
                "value": "$(trigger.payload.username)$",
                "options": {
                    "description": "Generate Cluster kubeconfig file with this user's RBAC permission",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "disabled": false,
                        "section": "Other",
                        "sectionDescription": "",
                        "tooltip": "",
                        "weight": "70400"
                    }
                }
            },
            {
                "name": "Worker Node SKU",
                "valueType": "text",
                "options": {
                    "description": "Select Worker Node SKU",
                    "override": {
                        "type": "notallowed"
                    },
                    "displayMetadata": {
                        "section": "Node",
                        "weight": "30130"
                    }
                }
            }
        ],
        "sharing": {
            "shareMode": "None"
        },
        "output": [
            {
                "name": "SCP_SCRIPT",
                "options": {
                    "displayMetadata": {
                        "label": "SCP to Login Node",
                        "section": "Access",
                        "tooltip": "Use this to upload/download SLURM files to the login node",
                        "valueType": "text",
                        "weight": "1"
                    }
                }
            },
            {
                "name": "SSH",
                "options": {
                    "displayMetadata": {
                        "label": "SSH to Login Node",
                        "section": "Access",
                        "tooltip": "Use this for SSH access to the Login Node",
                        "valueType": "text",
                        "weight": "3"
                    }
                }
            },
            {
                "name": "SCP_DATA",
                "options": {
                    "displayMetadata": {
                        "label": "SCP to Shared Data Volume",
                        "section": "Access",
                        "tooltip": "Use this to upload/download data files, your code and SLURM log files. This volume will be accessible to all compute nodes in the SLURM cluster.",
                        "valueType": "text",
                        "weight": "2"
                    }
                }
            },
            {
                "name": "MONITORING_URL",
                "options": {
                    "displayMetadata": {
                        "label": "Monitoring URL",
                        "section": "Monitoring",
                        "tooltip": "The URL to access the SLURM cluster monitoring dashboards.",
                        "valueType": "text",
                        "weight": "4"
                    }
                }
            },
            {
                "name": "MONITORING_USER",
                "options": {
                    "displayMetadata": {
                        "label": "Monitoring Username",
                        "section": "Monitoring",
                        "tooltip": "The username to access the SLURM monitoring dashboards.",
                        "valueType": "text",
                        "weight": "5"
                    }
                }
            },
            {
                "name": "MONITORING_PASSWORD",
                "options": {
                    "displayMetadata": {
                        "label": "Monitoring Password",
                        "section": "Monitoring",
                        "tooltip": "The password to access the SLURM monitoring dashboards.",
                        "valueType": "text",
                        "weight": "6"
                    }
                }
            }
        ],
        "iconURL": "https://upload.wikimedia.org/wikipedia/commons/3/3a/Slurm_logo.svg",
        "readme": "This template will deploy a SLURM cluster.  The user will be provided remote access to the SLURM cluster using SSH to run SLURM  commands.",
        "extraConfig": {
            "billableParameters": "[\r\n  {\r\n    \"name\": \"noofnodes\",\r\n    \"type\": \"jsonpath\",\r\n    \"value\": \"$.spec.variables[?(@.name == 'No Of Nodes')].value\"\r\n  },\r\n  {\r\n    \"name\": \"gputype\",\r\n    \"type\": \"jsonpath\",\r\n    \"isLabel\": true,\r\n    \"value\": \"$.spec.variables[?(@.name == 'GPU Type')].value\"\r\n  }\r\n]"
        },
        "systemCatalog": true,
        "envVars": [
            {
                "key": "Controller Endpoint",
                "value": "console.rafay.buzzhpc.ai",
                "options": {
                    "description": "Select the endpoint of the controller",
                    "override": {
                        "type": "notallowed"
                    },
                    "required": true
                }
            },
            {
                "key": "API Key",
                "options": {
                    "description": "Enter the API key of the controller",
                    "sensitive": true,
                    "override": {
                        "type": "notallowed"
                    },
                    "required": true,
                    "mask": true
                }
            }
        ],
        "computeType": "slurm",
        "actionOverrides": {
            "Other Actions": {
                "variables": [
                    {
                        "name": "actions",
                        "valueType": "unspecified",
                        "value": "{}",
                        "options": {
                            "override": {
                                "type": "allowed"
                            },
                            "displayMetadata": {
                                "jsonSchema": "{\n  \"dependencies\": {},\n  \"description\": \"K8S Node Actions\",\n  \"properties\": {\n    \"actionextra\": {\n      \"default\": \"\",\n      \"description\": \"Actions(drain, cordon, uncordon, add-labels \\u0026 remove-labels, add-annotation \\u0026 remove-annotation, remove-node)\",\n      \"enum\": [\n        \"\",\n        \"drain\",\n        \"cordon\",\n        \"uncordon\",\n        \"add-labels\",\n        \"remove-labels\",\n        \"add-annotation\",\n        \"remove-annotation\",\n        \"mig-config\",\n        \"remove-node\"\n      ],\n      \"title\": \"Available Actions\",\n      \"type\": \"string\"\n    },\n    \"annotation\": {\n      \"description\": \"Annotation to add/remove\",\n      \"title\": \"Annotation\",\n      \"type\": \"string\"\n    },\n    \"labels\": {\n      \"description\": \"Labels to add/remove\",\n      \"title\": \"Labels\",\n      \"type\": \"string\"\n    },\n    \"mig-config\": {\n      \"description\": \"Mig configurations\",\n      \"title\": \"MIG Config\",\n      \"type\": \"string\"\n    },\n    \"mig-profile\": {\n      \"description\": \"Mig Profile to be configured\",\n      \"title\": \"MIG Profile Name\",\n      \"type\": \"string\"\n    },\n    \"node\": {\n      \"description\": \"Node Name - list of nodes comma separated \",\n      \"title\": \"Node Name\",\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"actionextra\",\n    \"node\"\n  ],\n  \"title\": \"Action\",\n  \"type\": \"object\"\n}",
                                "type": "jsonSchema"
                            }
                        }
                    }
                ]
            }
        }
    },
    "status": {
        "entityOverrides": [
            {
                "variables": [
                    {
                        "name": "Epilog Scripts",
                        "valueType": "json",
                        "value": "00-epilog-a.sh: |\r\n  #!/usr/bin/env bash\r\n  echo \"A\"\r\n\r\n01-epilog-b.sh: |\r\n  #!/usr/bin/env bash\r\n  echo \"B\"",
                        "options": {
                            "override": {
                                "type": "allowed"
                            },
                            "displayMetadata": {
                                "section": "Advanced",
                                "tooltip": "The epilog scripts that will be added to the compute nodes.",
                                "weight": "3"
                            }
                        }
                    },
                    {
                        "name": "GPU Type",
                        "valueType": "text",
                        "value": "H200",
                        "options": {
                            "override": {
                                "type": "allowed"
                            },
                            "displayMetadata": {
                                "disabled": false,
                                "dropdownValues": [
                                    {
                                        "label": "A40",
                                        "text": "",
                                        "value": "A40"
                                    },
                                    {
                                        "label": "H100",
                                        "text": "",
                                        "value": "H100"
                                    },
                                    {
                                        "label": "H200",
                                        "text": "",
                                        "value": "H200"
                                    }
                                ],
                                "section": "Infrastructure",
                                "sectionDescription": "",
                                "tooltip": "",
                                "type": "dropdown",
                                "weight": "1"
                            }
                        }
                    },
                    {
                        "name": "No Of Nodes",
                        "valueType": "text",
                        "value": "1",
                        "options": {
                            "override": {
                                "type": "allowed"
                            },
                            "displayMetadata": {
                                "disabled": false,
                                "dropdownValues": [
                                    {
                                        "label": "1",
                                        "text": "",
                                        "value": "1"
                                    },
                                    {
                                        "label": "2",
                                        "text": "",
                                        "value": "2"
                                    },
                                    {
                                        "label": "3",
                                        "text": "",
                                        "value": "3"
                                    },
                                    {
                                        "label": "4",
                                        "text": "",
                                        "value": "4"
                                    },
                                    {
                                        "label": "5",
                                        "text": "",
                                        "value": "5"
                                    },
                                    {
                                        "label": "6",
                                        "text": "",
                                        "value": "6"
                                    },
                                    {
                                        "label": "7",
                                        "text": "",
                                        "value": "7"
                                    },
                                    {
                                        "label": "8",
                                        "text": "",
                                        "value": "8"
                                    }
                                ],
                                "section": "Infrastructure",
                                "sectionDescription": "",
                                "tooltip": "The number of SLURM compute nodes to deploy.",
                                "type": "dropdown",
                                "weight": "2"
                            }
                        }
                    },
                    {
                        "name": "Prolog Scripts",
                        "valueType": "json",
                        "value": "00-prolog-a.sh: |\r\n  #!/usr/bin/env bash\r\n  echo \"A\"\r\n\r\n01-prolog-b.sh: |\r\n  #!/usr/bin/env bash\r\n  echo \"B\"",
                        "options": {
                            "override": {
                                "type": "allowed"
                            },
                            "displayMetadata": {
                                "section": "Advanced",
                                "tooltip": "The prolog scripts that will be added to the compute nodes.",
                                "weight": "2"
                            }
                        }
                    },
                    {
                        "name": "Shared Volume Size",
                        "valueType": "text",
                        "value": "100Gi",
                        "options": {
                            "override": {
                                "type": "allowed"
                            },
                            "displayMetadata": {
                                "dropdownValues": [
                                    {
                                        "label": "100Gi",
                                        "text": "",
                                        "value": "100Gi"
                                    },
                                    {
                                        "label": "500Gi",
                                        "text": "",
                                        "value": "500Gi"
                                    },
                                    {
                                        "label": "1000Gi",
                                        "text": "",
                                        "value": "1000Gi"
                                    }
                                ],
                                "section": "Infrastructure",
                                "tooltip": "The amount of storage that will be configured as a shared volume between the compute nodes and login node",
                                "type": "dropdown",
                                "weight": "3"
                            }
                        }
                    },
                    {
                        "name": "Slurm SSH Public Key",
                        "valueType": "text",
                        "options": {
                            "override": {
                                "type": "allowed"
                            },
                            "displayMetadata": {
                                "section": "Access",
                                "tooltip": "The SSH public key that will be assigned to the login node.  This key will be used with the associated private key to SSH into the login node.  The login node will be used to run your SLURM commands.",
                                "weight": "1"
                            }
                        }
                    }
                ]
            }
        ],
        "globalSettings": {
            "agents": [
                "paas-agent"
            ],
            "billing": {},
            "quota": {}
        },
        "actions": [
            {
                "name": "Other Actions",
                "context": {
                    "name": "system-mks-oneclick-action",
                    "data": {
                        "variables": [
                            {
                                "name": "actions",
                                "valueType": "json",
                                "value": "{}",
                                "options": {
                                    "override": {
                                        "type": "allowed"
                                    },
                                    "displayMetadata": {
                                        "jsonSchema": "{\n  \"dependencies\": {},\n  \"description\": \"K8S Node Actions\",\n  \"properties\": {\n    \"actionextra\": {\n      \"default\": \"\",\n      \"description\": \"Actions(drain, cordon, uncordon, add-labels \\u0026 remove-labels, add-annotation \\u0026 remove-annotation, remove-node)\",\n      \"enum\": [\n        \"\",\n        \"drain\",\n        \"cordon\",\n        \"uncordon\",\n        \"add-labels\",\n        \"remove-labels\",\n        \"add-annotation\",\n        \"remove-annotation\",\n        \"mig-config\",\n        \"remove-node\"\n      ],\n      \"title\": \"Available Actions\",\n      \"type\": \"string\"\n    },\n    \"annotation\": {\n      \"description\": \"Annotation to add/remove\",\n      \"title\": \"Annotation\",\n      \"type\": \"string\"\n    },\n    \"labels\": {\n      \"description\": \"Labels to add/remove\",\n      \"title\": \"Labels\",\n      \"type\": \"string\"\n    },\n    \"mig-config\": {\n      \"description\": \"Mig configurations\",\n      \"title\": \"MIG Config\",\n      \"type\": \"string\"\n    },\n    \"mig-profile\": {\n      \"description\": \"Mig Profile to be configured\",\n      \"title\": \"MIG Profile Name\",\n      \"type\": \"string\"\n    },\n    \"node\": {\n      \"description\": \"Node Name - list of nodes comma separated \",\n      \"title\": \"Node Name\",\n      \"type\": \"string\"\n    }\n  },\n  \"required\": [\n    \"actionextra\",\n    \"node\"\n  ],\n  \"title\": \"Action\",\n  \"type\": \"object\"\n}",
                                        "type": "jsonSchema"
                                    }
                                }
                            }
                        ]
                    }
                }
            }
        ]
    }
}